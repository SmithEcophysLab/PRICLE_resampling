cld(lsmeans(of_lmer, ~ precipitationfac))
### C3 Grass Cover
Anova(c3g_lmer)
cld(lsmeans(of_lmer, ~ precipitationfac))
r_plot = ggplot(data = diversity, aes(y = R, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(2), colour = 'black'),
axis.title.x=element_text(size=rel(2), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 16)) +
ylab('Richness') +
xlab('Historical Treatment') #+
d_plot_g = ggplotGrob(d_plot)
e_plot_g = ggplotGrob(e_plot)
r_plot_g = ggplotGrob(r_plot)
diversity_plots = rbind(d_plot_g, e_plot_g, r_plot_g, size = 'last')
diversity_plots$widths = unit.pmax(d_plot_g$widths, e_plot_g$widths, r_plot_g$widths)
grid.newpage()
grid.draw(diversity_plots)
r_plot = ggplot(data = diversity, aes(y = R, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(3), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 16)) +
ylab('Richness') +
xlab('Historical Treatment') #+
d_plot_g = ggplotGrob(d_plot)
e_plot_g = ggplotGrob(e_plot)
r_plot_g = ggplotGrob(r_plot)
diversity_plots = rbind(d_plot_g, e_plot_g, r_plot_g, size = 'last')
diversity_plots$widths = unit.pmax(d_plot_g$widths, e_plot_g$widths, r_plot_g$widths)
grid.newpage()
grid.draw(diversity_plots)
### diversity figure
d_plot = ggplot(data = diversity, aes(y = D, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(3), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 2)) +
ylab('Diversity') +
xlab('') #+
e_plot = ggplot(data = diversity, aes(y = E, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(3), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 0.5)) +
ylab('Evenness') +
xlab('') #+
r_plot = ggplot(data = diversity, aes(y = R, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(3), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 16)) +
ylab('Richness') +
xlab('Historical Treatment') #+
d_plot_g = ggplotGrob(d_plot)
e_plot_g = ggplotGrob(e_plot)
r_plot_g = ggplotGrob(r_plot)
diversity_plots = rbind(d_plot_g, e_plot_g, r_plot_g, size = 'last')
diversity_plots$widths = unit.pmax(d_plot_g$widths, e_plot_g$widths, r_plot_g$widths)
grid.newpage()
grid.draw(diversity_plots)
head(cover_sum)
### plant type figure
cf_plot = ggplot(data = subset(cover_sum, pft == 'cf'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(3), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 100)) +
ylab('CF cover (%)') +
xlab('') #+
cf_plot
c4g_plot = ggplot(data = subset(cover_sum, pft == 'c4g'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(3), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 100)) +
ylab('C4G cover (%)') +
xlab('') #+
c4g_plot
nf_plot = ggplot(data = subset(cover_sum, pft == 'nf'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(3), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 100)) +
ylab('NF cover (%)') +
xlab('') #+
nf_plot
cf_plot_g = ggplotGrob(cf_plot)
c4g_plot_g = ggplotGrob(c4g_plot)
nf_plot_g = ggplotGrob(nf_plot)
diversity_plots = rbind(cf_plot_g, c4g_plot_g, nf_plot_g, size = 'last')
diversity_plots$widths = unit.pmax(cf_plot_g$widths, c4g_plot_g$widths, nf_plot_g$widths)
grid.newpage()
grid.draw(diversity_plots)
nf_plot = ggplot(data = subset(cover_sum, pft == 'nf'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(3), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 100)) +
ylab('NF cover (%)') +
xlab('Treatment') #+
cf_plot_g = ggplotGrob(cf_plot)
c4g_plot_g = ggplotGrob(c4g_plot)
nf_plot_g = ggplotGrob(nf_plot)
diversity_plots = rbind(cf_plot_g, c4g_plot_g, nf_plot_g, size = 'last')
diversity_plots$widths = unit.pmax(cf_plot_g$widths, c4g_plot_g$widths, nf_plot_g$widths)
grid.newpage()
grid.draw(diversity_plots)
### plant type figure
cf_plot = ggplot(data = subset(cover_sum, pft == 'cf'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(3), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(80, 100)) +
ylab('CF cover (%)') +
xlab('') #+
c4g_plot = ggplot(data = subset(cover_sum, pft == 'c4g'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(3), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 60)) +
ylab('C4G cover (%)') +
xlab('') #+
nf_plot = ggplot(data = subset(cover_sum, pft == 'nf'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(3), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 40)) +
ylab('NF cover (%)') +
xlab('Treatment') #+
cf_plot_g = ggplotGrob(cf_plot)
c4g_plot_g = ggplotGrob(c4g_plot)
nf_plot_g = ggplotGrob(nf_plot)
diversity_plots = rbind(cf_plot_g, c4g_plot_g, nf_plot_g, size = 'last')
diversity_plots$widths = unit.pmax(cf_plot_g$widths, c4g_plot_g$widths, nf_plot_g$widths)
grid.newpage()
grid.draw(diversity_plots)
### plant type figure
cf_plot = ggplot(data = subset(cover_sum, pft == 'cf'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(3), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(90, 100)) +
ylab('CF cover (%)') +
xlab('') #+
c4g_plot = ggplot(data = subset(cover_sum, pft == 'c4g'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(3), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 60)) +
ylab('C4G cover (%)') +
xlab('') #+
nf_plot = ggplot(data = subset(cover_sum, pft == 'nf'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(3), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 40)) +
ylab('NF cover (%)') +
xlab('Treatment') #+
cf_plot_g = ggplotGrob(cf_plot)
c4g_plot_g = ggplotGrob(c4g_plot)
nf_plot_g = ggplotGrob(nf_plot)
pft_plots = rbind(cf_plot_g, c4g_plot_g, nf_plot_g, size = 'last')
pft_plots$widths = unit.pmax(cf_plot_g$widths, c4g_plot_g$widths, nf_plot_g$widths)
grid.newpage()
grid.draw(pft_plots)
### plant type figure
cf_plot = ggplot(data = subset(cover_sum, pft == 'cf'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(2.8), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(80, 100)) +
ylab('CF cover (%)') +
xlab('') #+
c4g_plot = ggplot(data = subset(cover_sum, pft == 'c4g'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(2.8), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 60)) +
ylab('C4G cover (%)') +
xlab('') #+
nf_plot = ggplot(data = subset(cover_sum, pft == 'nf'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(2.8), colour = 'black'),
axis.title.x=element_text(size=rel(3), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 40)) +
ylab('NF cover (%)') +
xlab('Treatment') #+
cf_plot_g = ggplotGrob(cf_plot)
c4g_plot_g = ggplotGrob(c4g_plot)
nf_plot_g = ggplotGrob(nf_plot)
pft_plots = rbind(cf_plot_g, c4g_plot_g, nf_plot_g, size = 'last')
pft_plots$widths = unit.pmax(cf_plot_g$widths, c4g_plot_g$widths, nf_plot_g$widths)
grid.newpage()
grid.draw(pft_plots)
### plant type figure
cf_plot = ggplot(data = subset(cover_sum, pft == 'cf'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(2.6), colour = 'black'),
axis.title.x=element_text(size=rel(2.6), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(80, 100)) +
ylab('CF cover (%)') +
xlab('') #+
c4g_plot = ggplot(data = subset(cover_sum, pft == 'c4g'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(2.6), colour = 'black'),
axis.title.x=element_text(size=rel(2.6), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 60)) +
ylab('C4G cover (%)') +
xlab('') #+
nf_plot = ggplot(data = subset(cover_sum, pft == 'nf'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(2.6), colour = 'black'),
axis.title.x=element_text(size=rel(2.6), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 40)) +
ylab('NF cover (%)') +
xlab('Treatment') #+
cf_plot_g = ggplotGrob(cf_plot)
c4g_plot_g = ggplotGrob(c4g_plot)
nf_plot_g = ggplotGrob(nf_plot)
pft_plots = rbind(cf_plot_g, c4g_plot_g, nf_plot_g, size = 'last')
pft_plots$widths = unit.pmax(cf_plot_g$widths, c4g_plot_g$widths, nf_plot_g$widths)
grid.newpage()
grid.draw(pft_plots)
nf_plot = ggplot(data = subset(cover_sum, pft == 'nf'), aes(y = Sum, x = treatment, fill = treatment)) +
theme(legend.position = 'none',
legend.title = element_blank(),
axis.title.y=element_text(size=rel(2.6), colour = 'black'),
axis.title.x=element_text(size=rel(2.6), colour = 'black'),
axis.text.x=element_text(size=rel(2), colour = 'black'),
axis.text.y=element_text(size=rel(2), colour = 'black'),
panel.background = element_rect(fill = 'white', colour = 'black'),
panel.grid.major = element_line(colour = "white"),
legend.background = element_blank(),
legend.box.background = element_rect(colour = "black")) +
geom_boxplot(position = 'dodge', colour = 'black') +
scale_fill_manual(values = c('white', 'red', 'blue', 'purple')) +
ylim(c(0, 40)) +
ylab('NF cover (%)') +
xlab('Historical Treatment') #+
cf_plot_g = ggplotGrob(cf_plot)
c4g_plot_g = ggplotGrob(c4g_plot)
nf_plot_g = ggplotGrob(nf_plot)
pft_plots = rbind(cf_plot_g, c4g_plot_g, nf_plot_g, size = 'last')
pft_plots$widths = unit.pmax(cf_plot_g$widths, c4g_plot_g$widths, nf_plot_g$widths)
grid.newpage()
grid.draw(pft_plots)
?geom_boxplot
## Load packages
library(lme4)
library(car)
library(emmeans)
## read in data
diversity = subset(read.csv('../data/diversity_data.csv'), year > 2015)
cover_sum = subset(read.csv('../data/cover_pft_data.csv'), year > 2015)
## create factors
diversity$nitrogenfac = as.factor(diversity$nitrogen)
diversity$precipitationfac = as.factor(diversity$precipitation)
diversity$blockfac = as.factor(diversity$block)
diversity$yearfac = as.factor(diversity$year)
diversity$plotfac = as.factor(diversity$plot)
cover_sum$nitrogenfac = as.factor(cover_sum$nitrogen)
cover_sum$precipitationfac = as.factor(cover_sum$precipitation)
cover_sum$blockfac = as.factor(cover_sum$block)
cover_sum$yearfac = as.factor(cover_sum$year)
cover_sum$plotfac = as.factor(cover_sum$plot)
## fit mixed effects models
### Diversity
D_lmer = lmer(log10(D) ~ precipitationfac * nitrogenfac + (1|yearfac) + (1|blockfac) + (1|plotfac),
data = diversity)
### Evenness
E_lmer = lmer(log10(E) ~ precipitationfac * nitrogenfac + (1|yearfac) + (1|blockfac) + (1|plotfac),
data = diversity)
### Richness
R_lmer = lmer(log10(R) ~ precipitationfac * nitrogenfac + (1|yearfac) + (1|blockfac) + (1|plotfac),
data = diversity)
### Clonal forbs
cf_lmer = lmer(log10(Sum + 1) ~ precipitationfac * nitrogenfac + (1|yearfac) + (1|blockfac) + (1|plotfac),
data = subset(cover_sum, pft == 'cf'))
### C4 grasses
c4g_lmer = lmer(log10(Sum + 1) ~ precipitationfac * nitrogenfac + (1|yearfac) + (1|blockfac) + (1|plotfac),
data = subset(cover_sum, pft == 'c4g'))
### Nitrogen fixers
nf_lmer = lmer(log10(Sum + 1) ~ precipitationfac * nitrogenfac + (1|yearfac) + (1|blockfac) + (1|plotfac),
data = subset(cover_sum, pft == 'nf'))
### Other forbs
of_lmer = lmer(log10(Sum + 1) ~ precipitationfac * nitrogenfac + (1|yearfac) + (1|blockfac) + (1|plotfac),
data = subset(cover_sum, pft == 'of'))
### C3 grasses
c3g_lmer = lmer(log10(Sum + 1) ~ precipitationfac * nitrogenfac + (1|yearfac) + (1|blockfac) + (1|plotfac),
data = subset(cover_sum, pft == 'c3g'))
### Evenness
Anova(E_lmer)
cld(lsmeans(E_lmer, ~ precipitationfac * nitrogenfac))
E_lsmeans_nitrogen = summary(lsmeans(E_lmer, ~nitrogenfac))
E_lsmeans_nitrogen
(E_lsmeans_nitrogen[2, 2] - E_lsmeans_nitrogen[1, 2]) / E_lsmeans_nitrogen[1, 2]
### Richness
Anova(R_lmer)
R_lsmeans_nitrogen = summary(lsmeans(R_lmer, ~nitrogenfac))
(R_lsmeans_nitrogen[2, 2] - R_lsmeans_nitrogen[1, 2]) / R_lsmeans_nitrogen[1, 2]
### C4 Grass Cover
Anova(c4g_lmer)
c4g_lsmeans_nitrogen = summary(lsmeans(c4g_lmer, ~nitrogenfac))
(c4g_lsmeans_nitrogen[2, 2] - c4g_lsmeans_nitrogen[1, 2]) / c4g_lsmeans_nitrogen[1, 2]
(R_lsmeans_nitrogen[2, 2] - R_lsmeans_nitrogen[1, 2]) / R_lsmeans_nitrogen[1, 2]
R_lsmeans_nitrogen
(E_lsmeans_nitrogen[2, 2] - E_lsmeans_nitrogen[1, 2]) / E_lsmeans_nitrogen[1, 2]
E_lsmeans_nitrogen
(E_lsmeans_nitrogen[2, 2] - E_lsmeans_nitrogen[1, 2])
E_lsmeans_nitrogen[1, 2]
(E_lsmeans_nitrogen[2, 2] - E_lsmeans_nitrogen[1, 2]) / abs(E_lsmeans_nitrogen[1, 2])
c4g_lsmeans_nitrogen = summary(lsmeans(c4g_lmer, ~nitrogenfac))
c4g_lsmeans_nitrogen
c4g_lsmeans_precipitation = summary(lsmeans(c4g_lmer, ~precipitationfac))
c4g_lsmeans_precipitation
(c4g_lsmeans_nitrogen[2, 2] - c4g_lsmeans_nitrogen[1, 2]) / abs(c4g_lsmeans_nitrogen[1, 2])
c4g_lsmeans_precipitation = summary(lsmeans(c4g_lmer, ~precipitationfac))
(c4g_lsmeans_precipitation[2, 2] - c4g_lsmeans_precipitation[1, 2]) / abs(c4g_lsmeans_precipitation[1, 2])
nf_lsmeans_nitrogen = summary(lsmeans(nf_lmer, ~nitrogenfac))
(nf_lsmeans_nitrogen[2, 2] - nf_lsmeans_nitrogen[1, 2]) / abs(nf_lsmeans_nitrogen[1, 2])
of_lsmeans_precipitation = summary(lsmeans(of_lmer, ~precipitationfac))
(of_lsmeans_precipitation[2, 2] - of_lsmeans_precipitation[1, 2]) / abs(of_lsmeans_precipitation[1, 2])
